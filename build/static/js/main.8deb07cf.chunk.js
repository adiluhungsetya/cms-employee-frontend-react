(this["webpackJsonpweb-employee"]=this["webpackJsonpweb-employee"]||[]).push([[0],{54:function(e,t,a){e.exports=a(94)},59:function(e,t,a){},60:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),l=a.n(c),o=(a(59),a(60),a(16)),i=a(25),m=a(52),u=a(7),s={id:"",name:"",gender:"",idNumber:"",birthDate:"",position:{id:"",name:"",code:""}},p={form:Object(u.a)({},s),employees:[],isLoading:!1};var d=a(17),E=a(111),f=a(8),h=a(15),b=a(96),g=a(97),y=a(98),v=a(99),O=a(100),j=a(101),w=a(102),N=a(112),k=a(103),x=a(104),D=a(105),C=a(13),S=a.n(C),L=a(18),I=a(47),z=a.n(I).a.create({baseURL:"http://localhost:3104"}),B="/employee";function M(){return(M=Object(L.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.get(B);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(L.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post(B,t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(L.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.put(B,t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(L.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={id:t},e.next=3,z.delete(B,{data:a});case 3:if(200!=e.sent.status){e.next=8;break}return e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(L.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.get("".concat(B,"/position"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J=a(53),P=a(48);var R=function(e){var t=e.icon,a=Object(J.a)(e,["icon"]),n=t.split(" ");return r.a.createElement(P.a,Object.assign({icon:n},a))};var V=Object(d.b)((function(e){return Object(u.a)({},e)}),(function(e){return{handleEdit:function(t){return e({type:3,payload:t})},setLoading:function(){return e({type:5})},fetchComplete:function(t){return e({type:1,payload:t})}}}))(Object(f.f)((function(e){var t=Object(n.useState)(!1),a=Object(h.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),m=Object(h.a)(i,2),u=m[0],s=m[1],p=Object(n.useState)(!1),d=Object(h.a)(p,2),E=d[0],f=d[1],C=Object(n.useState)(""),S=Object(h.a)(C,2),L=S[0],I=S[1],z=function(){l(!c)},B=function(){f(!E)},F=function(){var t=e.setLoading,a=e.fetchComplete;t(),function(){return M.apply(this,arguments)}().then((function(e){a(e)}))};return Object(n.useEffect)((function(){F()}),[]),r.a.createElement(y.a,{className:"shadow"},r.a.createElement(v.a,{tag:"strong"},r.a.createElement(O.a,null,r.a.createElement(j.a,null,r.a.createElement(o.b,{to:"/form"},r.a.createElement(g.a,{color:"primary",className:"shadow"},r.a.createElement(R,{icon:"fas plus"})," Add"))),r.a.createElement(j.a,{md:{size:7,offset:2}},r.a.createElement("h3",null,"Employee List")))),r.a.createElement(w.a,{striped:!0,hover:!0,responsive:!0,className:"m-0"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{width:"5%"},"No."),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Gender"),r.a.createElement("th",null,"Id Number"),r.a.createElement("th",null,"Birth Date"),r.a.createElement("th",null,"Position"),r.a.createElement("th",{colSpan:2,width:"15%",className:"text-center"},"Actions"))),r.a.createElement("tbody",null,function(){var t=e.employees,a=e.isLoading,n=r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(b.a,{className:"text-center",type:"grow","aria-colspan":6,color:"info"})));return a||(n=r.a.createElement("tr",null,r.a.createElement("td",{colSpan:8,className:"table-warning text-center"},r.a.createElement("strong",null,r.a.createElement("em",null,"No Employee(s) yet."))))),t.length>0&&!a&&(n=t.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("th",{scope:"row"},a+1),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.gender),r.a.createElement("td",null,t.idNumber),r.a.createElement("td",null,t.birthDate),r.a.createElement("td",null,t.position.name),r.a.createElement("td",null,r.a.createElement(g.a,{type:"button",color:"warning",size:"sm",className:"shadow",onClick:function(){return function(t){var a=e.handleEdit,n=(e.form,e.history);a(t),n.replace("/form")}(t.id)}},r.a.createElement(R,{icon:"fas edit"})," Edit")),r.a.createElement("td",null,r.a.createElement(g.a,{type:"button",color:"danger",size:"sm",className:"shadow",onClick:function(){s(t.id),z()}},r.a.createElement(R,{icon:"fas trash"})," Delete")))}))),n}())),r.a.createElement(N.a,{isOpen:c,toggle:z},r.a.createElement(k.a,{toggle:z},r.a.createElement(R,{icon:"fas exclamation-triangle",color:"red"})," Warning !"),r.a.createElement(x.a,null,"Employee will permanently deleted, Are you sure to continue ?"),r.a.createElement(D.a,null,r.a.createElement(g.a,{onClick:function(){(function(e){return W.apply(this,arguments)})(u).then((function(e){z(),e?(I("Delete success !"),B(),F()):(I("Delete failed !"),B())}))},color:"danger"},"Yes"),r.a.createElement(g.a,{onClick:z,color:"primary",className:"ml-2"},"No"))),r.a.createElement(N.a,{isOpen:E,toggle:B},r.a.createElement(x.a,null,L)))}))),q=a(106),U=a(107),Y=a(108),$=a(109),H=a(110);var K=Object(d.b)((function(e){return Object(u.a)({},e)}),(function(e){return{handleInputChange:function(t,a){return e({type:0,payload:{inputName:t,inputValue:a}})},resetForm:function(){return e({type:6})}}}))(Object(f.f)((function(e){var t=e.form,a=e.handleInputChange,c=e.history,l=e.resetForm,i=Object(n.useState)([]),m=Object(h.a)(i,2),u=m[0],s=m[1],p=Object(n.useState)({message:"",open:!1}),d=Object(h.a)(p,2),E=d[0],f=d[1],b=function(){(function(){return G.apply(this,arguments)})().then((function(e){s(e)}))};return Object(n.useEffect)((function(){b()}),[]),r.a.createElement(O.a,{style:{margin:20}},r.a.createElement(j.a,{md:{size:6,offset:3}},r.a.createElement(y.a,{className:"shadow"},r.a.createElement(v.a,{tag:"strong",className:"text-center"},t.id?"Edit employee":"Insert New Employee"),r.a.createElement(q.a,{className:"p-3"},r.a.createElement(U.a,{onSubmit:function(e){e.preventDefault();var a=t.birthDate.split("-");t.position={id:t.position},t.birthDate="".concat(a[2],"-").concat(a[1],"-").concat(a[0]),console.log("FORM",t),t.id?function(e){return A.apply(this,arguments)}(t).then((function(){l(),f({message:"Edit employee success!!",open:!E.open})})):function(e){return F.apply(this,arguments)}(t).then((function(){l(),f({message:"Insert new employee success!!",open:!E.open})}))}},r.a.createElement(Y.a,{row:!0},r.a.createElement($.a,{md:3,for:"name"},"Employee Name"),r.a.createElement(j.a,{md:9},r.a.createElement(H.a,{type:"text",id:"name",name:"name",placeholder:"Insert name",value:t.name,onChange:function(e){return a("name",e.target.value)}}))),r.a.createElement(Y.a,{row:!0},r.a.createElement($.a,{md:3,for:"gender"},"Gender"),r.a.createElement(j.a,{md:3},r.a.createElement(Y.a,{check:!0},r.a.createElement($.a,{style:{cursor:"pointer"}},r.a.createElement(H.a,{style:{cursor:"pointer"},type:"radio",name:"gender",value:t.gender,onChange:function(e){return a("gender",0)}})," ",r.a.createElement(R,{icon:"fas mars"})," Male"))),r.a.createElement(j.a,{md:4},r.a.createElement(Y.a,{check:!0},r.a.createElement($.a,{style:{cursor:"pointer"}},r.a.createElement(H.a,{style:{cursor:"pointer"},type:"radio",name:"gender",value:t.gender,onChange:function(e){return a("gender",1)}})," ",r.a.createElement(R,{icon:"fas venus"})," Female")))),r.a.createElement(Y.a,{row:!0},r.a.createElement($.a,{md:3},"Id Number"),r.a.createElement(j.a,null,r.a.createElement(H.a,{type:"tel",min:0,maxLength:16,id:"idNumber",name:"idNumber",placeholder:"Insert identity number",value:t.idNumber,onChange:function(e){var t=e.target.value.replace(/[^0-9]/g,"");a("idNumber",t)}}))),r.a.createElement(Y.a,{row:!0},r.a.createElement($.a,{md:3},"Birth Date"),r.a.createElement(j.a,{md:4},r.a.createElement(H.a,{type:"date",name:"birthDate",id:"birthDate",placeholder:"dd/MM/yyyy",value:t.birthDate,onChange:function(e){return a("birthDate",e.target.value)}}))),r.a.createElement(Y.a,{row:!0},r.a.createElement($.a,{md:3},"Position"),r.a.createElement(j.a,{md:6},r.a.createElement(H.a,{type:"select",id:"position",name:"position",value:t.position.id,onChange:function(e){return a("position",e.target.value)}},r.a.createElement("option",null,"-Select position-"),u.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)}))))),r.a.createElement(Y.a,{className:"mt-5",row:!0},r.a.createElement(j.a,{md:{offset:7},className:"mr-2"},r.a.createElement(g.a,{type:"submit",color:"primary",className:"shadow",disabled:!(t.name.trim().length>0&&t.birthDate&&null!=t.gender&&t.idNumber.trim().length>0&&t.position.length>0)},r.a.createElement(R,{icon:"fas check-square"})," Confirm ")),r.a.createElement(j.a,null,r.a.createElement(o.b,{to:"/"},r.a.createElement(g.a,{type:"button",className:"shadow",onClick:l,style:{cursor:"pointer"}},r.a.createElement(R,{icon:"fas arrow-left"})," Back ")))))))),r.a.createElement(N.a,{isOpen:E.open,toggle:function(){f({message:E.message,open:!E.open}),c.replace("/")}},r.a.createElement(x.a,null,r.a.createElement(O.a,null,r.a.createElement(j.a,{md:9},r.a.createElement("h4",null,E.message)),r.a.createElement(j.a,{md:{offset:1},className:"ml-5"},r.a.createElement(R,{icon:"far check-circle",color:"green",size:"2x"}))))))}))),Q=Object(i.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case 5:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0});case 0:var r=Object(u.a)({},e.form),c=n.inputName,l=n.inputValue;return console.log(c," ",l),r[c]="position"===l?{id:l}:l,Object(u.a)(Object(u.a)({},e),{},{form:r});case 3:var o=e.employees.find((function(e){return e.id===n})),i=o.birthDate.split("-");return o.birthDate="".concat(i[2],"-").concat(i[1],"-").concat(i[0]),Object(u.a)(Object(u.a)({},e),{},{form:o});case 2:return Object(u.a)(Object(u.a)({},e),{},{form:Object(u.a)({},p),isLoading:!1});case 1:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,employees:Object(m.a)(n)});case 6:return Object(u.a)(Object(u.a)({},e),{},{form:Object(u.a)({},s)});default:return Object(u.a)({},e)}}));function T(){return r.a.createElement(E.a,{fluid:!0},r.a.createElement(d.a,{store:Q},r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/",component:V}),r.a.createElement(f.a,{path:"/form",component:K}))))}var X=a(22),Z=a(49),_=a(50),ee=a(51);X.b.add(Z.a,_.a,ee.a);var te=function(){return r.a.createElement("div",null,r.a.createElement(o.a,null,r.a.createElement(T,null)))};a(92),a(93),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.8deb07cf.chunk.js.map